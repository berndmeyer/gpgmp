#summary Tutorial for using Inchman, the online user interface to GPGMP.

= Introduction =
Inchman provides a convenient and simple way to run existing reaction-diffusion models on an GPGMP implementation without having to download and compile the source code. Users can define their reaction networks in [http://sbml.org/Main_Page SBML] and upload it to Inchman. The geometry specifications and simulation parameters are defined through the web interface. The whole model can then be submitted to our GPU cluster and, upon successful execution, a summary of the results will be mailed to the user.

= Running a simple example model =
The first step is to define the reaction network in a valid [http://sbml.org SBML] file. For the purpose of this tutorial, a simple model consisting of two species _A_ and _B_ and an annihilation reaction

<wiki:gadget url="http://mathml-gadget.googlecode.com/svn/trunk/mathml-gadget.xml" border="0" up_content="A + B -> \emptyset"/>

is sufficient. The according SBML file, which is listed below, is part of the [http://code.google.com/p/gpgmp/downloads/list Inchman example package].

{{{
<?xml version="1.0" encoding="utf-8"?>
<!--
   Simple 2d annihilation model with two species (corresponding to annihilation.xml in MesoRD)
-->
<sbml xmlns="http://www.sbml.org/sbml/level2/version3" level="2" version="the simulation3">

  <model name="Simple Annihilation">
    <listOfCompartments>
      <compartment id="World"/>
    </listOfCompartments>

    <listOfSpecies>
      <species id="A" name="Species A"  initialAmount="0" compartment="World"/>
      <species id="B" name="Species B"  initialAmount="0" compartment="World"/>
    </listOfSpecies>

    <listOfParameters>
      <parameter id="k"  value="150.79"/>
    </listOfParameters>

    <listOfReactions>
      <reaction id="Annihilation">
        <listOfReactants>
          <speciesReference species="A"/>
          <speciesReference species="B"/>
        </listOfReactants>
        <kineticLaw>
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <times/>
              <ci> k </ci>
              <ci> A </ci>
              <ci> B </ci>
            </apply>
          </math>
        </kineticLaw>
      </reaction>
    </listOfReactions>
  </model>
</sbml>
}}}
Note that the `species` attributes `initialAmount` and `compartment` are only present to guarantee compliance with the SBML specification and will be ignored by Inchman. In fact, the geometry of the compartments and the initial amounts of the species will be specified at a [#Specifying_the_geometry later stage]. We will come to that in a minute.

 _Note_: Currently, Inchman does not yet support dimensional parameters. Instead, reaction rates are assumed to be given in _per subvolume per second_. This requires the user to adapt model files if the number of grid cells in the model changes.

== Upload the SBML file ==
We are now ready to upload the model file to Inchman. Start Inchman by following the link to 

http://monash-inchman.appspot.com/.

The web interface provides the functionality to upload SBML files and specify the compartment geometries, species diffusivities and initial amounts, and localize reactions to compartments. The user can also change runtime parameters and finally submit the simulation to our cluster.

<img src='http://img695.imageshack.us/img695/3227/screenshottutorialuploa.png' border='0' width='700' height='450'/>

You can upload the SBML model file by going to the upper-left corner of the main screen. Before the user is allowed to go on, the model file is checked for syntactical validity. If your file is rejected, you can manually check it using the [http://sbml.org/Facilities/Validator SBML online validator] and thus get an idea about possible problems with your code.

  _Note_: After changing the local SBML file, you have to press the "Refresh" button of your browser in order to clear the server cache before uploading the new file!

== Specifying the geometry ==

<img src='http://img69.imageshack.us/img69/780/screenshottutorialgeome.png' border='0' width='700' height='450'/>

We now need to tell Inchman where the compartments are physically located. In the current version, the simulation domain is a 3-dimensional Cartesian grid divided into cuboid subvolumes (where the z-extension is only one subvolume, so effectively the simulation is 2.5 dimensional). Inchman only understands rectangular compartments which are defined by the position of the bottom-left corner and their width and height. The compartments are _declared_ in the underlying SBML model file but their geometry is _defined_ here. The reason for that dichotomy is that SBML does not understand spatially extended compartments and our main aim is to allow the user to upload existing models without changes.

 _Note_: The position and extensions of the subvolumes are given in grid coordinates. Consequently, the user most likely would want to adapt these specifications if they change the granularity of the grid.

== Running the model ==

= Analysis =

== Importing the output summary into MATLAB ==

= More examples =